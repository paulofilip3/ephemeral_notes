<html>
    <head>
        <title>Ephemeral Notepad</title>
        <meta charset="utf-8">  
        <link href='http://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css'>
        <link rel="icon" type="img/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA+RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ1dWlkOjVEMjA4OTI0OTNCRkRCMTE5MTRBODU5MEQzMTUwOEM4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjdFQjg0RTc1OTAxNzExRTM5QTBGRkM4RjQ5NTcyQkRBIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjdFQjg0RTc0OTAxNzExRTM5QTBGRkM4RjQ5NTcyQkRBIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIElsbHVzdHJhdG9yIENTNSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ1dWlkOjY2YjM5ZDUzLWNjOGItYTQ0ZC1iNjZhLThmYzQ2ZjgwNTgyZCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3RTBBNDk0NzBFMjA2ODExOEE2REE2QTUzQTk1ODIzNiIvPiA8ZGM6dGl0bGU+IDxyZGY6QWx0PiA8cmRmOmxpIHhtbDpsYW5nPSJ4LWRlZmF1bHQiPm9wZW5fYm9vazwvcmRmOmxpPiA8L3JkZjpBbHQ+IDwvZGM6dGl0bGU+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+IHI9dwAAAulJREFUeNrsW+FRwjAUDh4DsIF4+l+cwDqB3UA2ACYAJkAnUCcQJxAnEP97ZzfQDep7+vXuWQMWmjRNm9zl2oS05fua9+X1JemkaapcpJP+0ZAOUxTnb8n7nYv/0amaAAIeATgfM9BMxgpErBpJAAHvA3gGdkJg1/htQIeFIIWJSBpBAIHr0WFMeUT5E8CXG9rGIIKvuaF8TW0/vSVA2Pk3IAIzK3jdTBBmVR+sEKCx88mubxI9Z2FbH4wSsM3OS9zTqj4YIWAXOy/xDCv6UJqAfe28xPOM6sPeBJiw85I9zog+7EyADTt3qQ+FCajCzl3oQyECqrbzKvVhKwEu7bwqfdASUCc7t60PfwjIdaPa2LkpffhjvkyAzMeH/ZTyLF/ve2ZMjC1fryWgaeC3YTtQLU+BgLYT0LWovg90eBVVPIwm/w2nGL54GB6I6lMMY2tvCKAUA0jmOE0BkMtLDEkyJjjCNT20l85LBBe3/j2AwDyx/4DiRHphAMpgrii/UHkpyGIy5gw8/6apXSrvbbIn2OgBkXiLvxL+OOdruNm3aHtR8HN24729E0EAvmdCqp4LCKNAICAQEAgIBAQCAgGBgEBAIMA+AaX9doS5/YsHID0QAFle4WPoOR9tRvT2HHGAyPeAyACftvK7vod6BjlGXCDhmAGdf+B3bvuMb//8BMzaJwIW4jxbCpcgZwCzIIhCeSUIulS/I0Je9YAzEenpq5+oUNYrThEMmeKNMvBDgJ6CIK5/RA/STcMZ7Qm6maGUAHRsso7IEAOOhZlYXyOoxeZyYoSeFVMeu5wY6SqHqQ7zjsERCgQEArRqOWsa0E2YdATw+DuiC97hnvoOPGYscLrm//oBwoFp5xKZ3E0i1cZFUpqbDlUbl8lpmG3nQsm66kOlS2XrpA9OF0u71ofaLJevWh9qu2HCtj54sWXGhj54uWnKlD54v21uX31o3MbJovrQ6K2zBfRBqTZsnt6iD0o53D7/JcAAXcFdfFAn4UIAAAAASUVORK5CYII=" sizes="128x128">
    </head>
    <body style="font-family:Inconsolata, monospace;font-size:16;background-color:white">
        <div style="max-width:1000px; margin: auto">
            <div style="margin-bottom:20px">
                <img style="vertical-align:middle" height="64" width="64" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA+RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ1dWlkOjVEMjA4OTI0OTNCRkRCMTE5MTRBODU5MEQzMTUwOEM4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjdFQjg0RTc1OTAxNzExRTM5QTBGRkM4RjQ5NTcyQkRBIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjdFQjg0RTc0OTAxNzExRTM5QTBGRkM4RjQ5NTcyQkRBIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIElsbHVzdHJhdG9yIENTNSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ1dWlkOjY2YjM5ZDUzLWNjOGItYTQ0ZC1iNjZhLThmYzQ2ZjgwNTgyZCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3RTBBNDk0NzBFMjA2ODExOEE2REE2QTUzQTk1ODIzNiIvPiA8ZGM6dGl0bGU+IDxyZGY6QWx0PiA8cmRmOmxpIHhtbDpsYW5nPSJ4LWRlZmF1bHQiPm9wZW5fYm9vazwvcmRmOmxpPiA8L3JkZjpBbHQ+IDwvZGM6dGl0bGU+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+IHI9dwAAAulJREFUeNrsW+FRwjAUDh4DsIF4+l+cwDqB3UA2ACYAJkAnUCcQJxAnEP97ZzfQDep7+vXuWQMWmjRNm9zl2oS05fua9+X1JemkaapcpJP+0ZAOUxTnb8n7nYv/0amaAAIeATgfM9BMxgpErBpJAAHvA3gGdkJg1/htQIeFIIWJSBpBAIHr0WFMeUT5E8CXG9rGIIKvuaF8TW0/vSVA2Pk3IAIzK3jdTBBmVR+sEKCx88mubxI9Z2FbH4wSsM3OS9zTqj4YIWAXOy/xDCv6UJqAfe28xPOM6sPeBJiw85I9zog+7EyADTt3qQ+FCajCzl3oQyECqrbzKvVhKwEu7bwqfdASUCc7t60PfwjIdaPa2LkpffhjvkyAzMeH/ZTyLF/ve2ZMjC1fryWgaeC3YTtQLU+BgLYT0LWovg90eBVVPIwm/w2nGL54GB6I6lMMY2tvCKAUA0jmOE0BkMtLDEkyJjjCNT20l85LBBe3/j2AwDyx/4DiRHphAMpgrii/UHkpyGIy5gw8/6apXSrvbbIn2OgBkXiLvxL+OOdruNm3aHtR8HN24729E0EAvmdCqp4LCKNAICAQEAgIBAQCAgGBgEBAIMA+AaX9doS5/YsHID0QAFle4WPoOR9tRvT2HHGAyPeAyACftvK7vod6BjlGXCDhmAGdf+B3bvuMb//8BMzaJwIW4jxbCpcgZwCzIIhCeSUIulS/I0Je9YAzEenpq5+oUNYrThEMmeKNMvBDgJ6CIK5/RA/STcMZ7Qm6maGUAHRsso7IEAOOhZlYXyOoxeZyYoSeFVMeu5wY6SqHqQ7zjsERCgQEArRqOWsa0E2YdATw+DuiC97hnvoOPGYscLrm//oBwoFp5xKZ3E0i1cZFUpqbDlUbl8lpmG3nQsm66kOlS2XrpA9OF0u71ofaLJevWh9qu2HCtj54sWXGhj54uWnKlD54v21uX31o3MbJovrQ6K2zBfRBqTZsnt6iD0o53D7/JcAAXcFdfFAn4UIAAAAASUVORK5CYII=">
                <p style="font-size:24;display:inline-block;vertical-align:middle">Ephemeral Notepad</p>
            </div>
            <form id="notes-form" onsubmit="return saveNote();">
                <textarea id="notes" style="display:block;max-width:1000px;max-height:500px;height:60%;width:100%;margin:auto;font-size:18" onfocus="clearBorders()"></textarea>
                <div id="form-controls" style="float:right">
                    <input id="name" style="float:left" type="text" placeholder="Name this note." onfocus="clearBorders()">
                    <input id="save" style="float:left;color:green" value="Save" type="submit" onclick="return saveNote();">
                    <input id="clear" style="float:left" onclick="clearNotepad()" type="button" value="Clear">
                </div>
            </form>
        </div>
        <div style="max-width:1000px;margin:auto;margin-top:40px">
            <p id="saved-notes-headline"></p>
            <ul id="notes-list"></ul>
        </div>
        <script>
            var clearBorders = function() {
                var nameField = document.getElementById("name");
                var textField = document.getElementById("notes");
                textField.style.border = '';
                nameField.style.border = '';
            };
            var clearNotepad = function() {
                document.getElementById("name").value = '';
                document.getElementById("notes").value = '';
            };
            var saveNote = function(e) {
                var nameField = document.getElementById("name");
                var textField = document.getElementById("notes");
                if (!textField.value) {
                    textField.style.border = 'solid 2px red';
                } else if (!nameField.value) {
                    nameField.style.border = 'solid 2px red';
                } else {
                    localStorage.setItem(nameField.value, textField.value);
                    nameField.value = '';
                    textField.value = '';
                    loadNotes();
                    textField.focus();
                }
                return false;
                
            };
            var loadNote = function(name) {
                var note = localStorage.getItem(name);
                var nameField = document.getElementById("name");
                var textField = document.getElementById("notes");
                nameField.value = name;
                textField.value = note;
            };
            var deleteNote = function(name) {
                localStorage.removeItem(name);
                loadNotes();
            };
            var loadNotes = function() {
                var list = document.getElementById('notes-list');
                list.innerHTML = null;
                var length = localStorage.length;
                if (length) {
                    document.getElementById('saved-notes-headline').textContent = 'Saved notes:';
                    for (var i = 0; i < length; i++) {
                        var name = localStorage.key(i);
                        var note = localStorage.getItem(name);
                        note = note.replace(/(\r\n|\n|\r)/gm," ");
                        if (note.length > 50) {
                            note = note.substring(0, 50) + '...';
                        }
                        var new_el = '<li style="list-style-type:none;margin:10px;cursor:pointer"><span onclick="loadNote(\'' + name + '\')"><span>' + name + '</span> <span style="color:darkgrey"> -- ' + note + '</span></span><button style="float:right;color:red" onclick="deleteNote(\'' + name + '\')">Delete</button></li>';
                        list.innerHTML = list.innerHTML + new_el;
                    }
                } else {
                    document.getElementById('saved-notes-headline').textContent = 'No saved notes...';
                }
            };
            document.addEventListener("DOMContentLoaded", function(event) { 
                loadNotes();
                document.getElementById("notes").focus();
            });
        </script>
    </body>
</html>